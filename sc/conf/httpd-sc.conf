<VirtualHost localhost:80>
	ServerAdmin webmaster@localhost


########################################################
#
#	ShakeCast Server
#
########################################################
# $Id: httpd-sc.conf 278 2008-01-14 16:30:04Z klin $


DocumentRoot C:/Shakecast/sc

ErrorLog    C:/Shakecast/sc/logs/sc_error.log
CustomLog   C:/Shakecast/sc/logs/sc_access.log combined


<Directory C:/Shakecast/sc>
    Options None
    AllowOverride None
    Require all granted
    #AuthType Basic
    #AuthName ShakeCast
    #AuthUserFile /usr/local/shakecast/sc/userdbs/sc-users
    # By default forbid everything
    #Deny from all
</Directory>

<Directory C:/Shakecast/sc/docs>
    Allow from all
    #require valid-user
</Directory>

<Directory C:/Shakecast/sc/pma>
    Allow from all
    AuthName PMA
	AuthType Basic
    AuthUserFile C:/Shakecast/sc/userdbs/sc-users
    require valid-user
</Directory>

<Directory C:/Shakecast/sc/download>
    Options +Indexes
    IndexOptions FancyIndexing FoldersFirst
    allow from all
    #require valid-user
</Directory>

# Unrestricted access so we can serve error pages to unauthorized users
<Directory C:/Shakecast/sc/errordocs>
    allow from all
</Directory>

<Directory /usr/local/shakecast/sc/html>
    #Options +Indexes
    #IndexOptions FancyIndexing FoldersFirst
    Require all granted
    #require valid-user
</Directory>

<Directory C:/Shakecast/sc/html/admin>
    #Options +Indexes
    #IndexOptions FancyIndexing FoldersFirst
    Require all granted
</Directory>

<Directory C:/Shakecast/sc/images>
    Options +Indexes
    IndexOptions FancyIndexing FoldersFirst
    Allow from all
    #require valid-user
</Directory>

<Directory C:/Shakecast/sc/scripts/c>
    allow from all
    AuthName "Admin Panel"
	AuthType Basic
    AuthUserFile C:/Shakecast/sc/userdbs/sc-users
    require valid-user
</Directory>

<Directory C:/Shakecast/sc/scripts/r>
    allow from all
    #AuthName "Admin Panel"
	#AuthType Basic
    #AuthUserFile C:/Shakecast/sc/userdbs/sc-users
    #require valid-user
</Directory>

# Data file directory is wide open
<Directory C:/Shakecast/sc/data>
    Options +Indexes
    IndexOptions FancyIndexing FoldersFirst
    Require all granted
</Directory>

#RewriteEngine on

#RewriteRule ^/admin$ /scripts/c/admin/admin.pl			[PT]

ScriptAlias /scripts/		C:/Shakecast/sc/scripts/

Alias /data/			C:/Shakecast/sc/data/
Alias /errordocs/		C:/Shakecast/sc/errordocs/
Alias /html/			C:/Shakecast/sc/html/
Alias /images/			C:/Shakecast/sc/images/
Alias /pma/			C:/Shakecast/sc/pma/

ErrorDocument 401 /errordocs/401.html

Setenv PERL5LIB C:/Shakecast/sc/lib

LoadModule rewrite_module modules/mod_rewrite.so
RewriteEngine on
RewriteCond %{REQUEST_METHOD} ^TRACE
RewriteRule .* - [F]

LoadModule userdir_module modules/mod_userdir.so
UserDir disabled
</VirtualHost>
